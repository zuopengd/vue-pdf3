import{c as g,o as w,r as v,h as _,a as y}from"./@vue-0129b4a9.js";import{W as P}from"./pdfjs-dist-fae2626a.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const k={__name:"App",setup(o){const r="./\u6B22\u8FCE\u4F7F\u7528WPS Office for Mac\u540C\u6B65\u6587\u4EF6\u5939.pdf";return(s,i)=>{const e=v("vue-pdf3");return w(),g(e,{url:r})}}},L="modulepreload",C=function(o,r){return new URL(o,r).href},p={},E=function(r,s,i){return!s||s.length===0?r():Promise.all(s.map(e=>{if(e=C(e,i),e in p)return;p[e]=!0;const t=e.endsWith(".css"),c=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${c}`))return;const n=document.createElement("link");if(n.rel=t?"stylesheet":L,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t)return new Promise((l,a)=>{n.addEventListener("load",l),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>r())};const O="vue-pdf3-"+Math.ceil(Math.random()*1e10),f={name:"VuePdf3",props:{url:{type:String,required:!0}},setup(o){return()=>_("div",{id:O,class:"vue-pdf3",ref:"pdf"})},mounted(){this.init()},methods:{async init(){const o=await E(()=>import("./pdfjs-dist-fae2626a.js").then(i=>i.p),[],import.meta.url),r={url:this.url};typeof window<"u"&&"Worker"in window&&(o.GlobalWorkerOptions.workerPort=new P);let s=o.getDocument(r);s.__PDFDocumentLoadingTask=!0,s.promise.then(i=>{let e=i.numPages;for(let t=1;t<=e;t++)i.getPage(t).then(c=>{let n=3,l=c.getViewport({scale:1}),a=window.document.createElement("div"),u=window.document.createElement("div");u.className="loading",a.appendChild(u);let d=a.appendChild(window.document.createElement("canvas"));a.className="page",this.$refs.pdf.appendChild(a),d.width=l.width*n,d.height=l.height*n;let h={canvasContext:d.getContext("2d"),viewport:l,transform:[n,0,0,n,0,0]};c.render(h).promise.then(()=>{a.className="page complete"}).catch(()=>{})})})}}},S=function(o){o.component(f.name,f)},m=y(k);m.use(S);m.mount("#app");
